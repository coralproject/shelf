
# view
    import "github.com/coralproject/shelf/internal/wire/view"




## Constants
``` go
const Collection = "views"
```
Collection is the Mongo collection containing view metadata.


## Variables
``` go
var ErrNotFound = errors.New("View Not found")
```
ErrNotFound is an error variable thrown when no results are returned from a Mongo query.


## func Delete
``` go
func Delete(context interface{}, db *db.DB, name string) error
```
Delete removes a view from from Mongo.


## func GetAll
``` go
func GetAll(context interface{}, db *db.DB) ([]View, error)
```
GetAll retrieves the current views from Mongo.


## func Upsert
``` go
func Upsert(context interface{}, db *db.DB, view *View) error
```
Upsert upserts a view to the collection of currently utilized views.



## type Path
``` go
type Path []PathSegment
```
Path is a slice of PathSegment.











### func (Path) Len
``` go
func (slice Path) Len() int
```
Len is required to sort a slice of PathSegment.



### func (Path) Less
``` go
func (slice Path) Less(i, j int) bool
```
Less is required to sort a slice of PathSegment.



### func (Path) Swap
``` go
func (slice Path) Swap(i, j int)
```
Swap is required to sort a slice of PathSegment.



## type PathSegment
``` go
type PathSegment struct {
    Level     int    `bson:"level" json:"level" validate:"required,min=1"`
    Direction string `bson:"direction" json:"direction" validate:"required,min=2"`
    Predicate string `bson:"predicate" json:"predicate" validate:"required,min=1"`
    Tag       string `bson:"tag,omitempty" json:"tag,omitempty"`
}
```
PathSegment contains metadata about a segment of a path,
which path partially defines a View.











### func (\*PathSegment) Validate
``` go
func (ps *PathSegment) Validate() error
```
Validate checks the PathSegment value for consistency.



## type View
``` go
type View struct {
    Name       string `bson:"name" json:"name" validate:"required,min=3"`
    Collection string `bson:"collection" json:"collection" validate:"required,min=2"`
    StartType  string `bson:"start_type" json:"start_type" validate:"required,min=3"`
    ReturnRoot bool   `bson:"return_root,omitempty" json:"return_root,omitempty"`
    StrictPath bool   `bson:"strict_path,omitempty" json:"strict_path,omitempty"`
    Path       Path   `bson:"path" json:"path" validate:"required,min=1"`
}
```
View contains metadata about a view.









### func GetByName
``` go
func GetByName(context interface{}, db *db.DB, name string) (*View, error)
```
GetByName retrieves a view by name from Mongo.




### func (\*View) Validate
``` go
func (v *View) Validate() error
```
Validate checks the View value for consistency.









- - -
Generated by [godoc2md](http://godoc.org/github.com/davecheney/godoc2md)